{% extends 'base.html' %}

{% block title %} User Details {% endblock %}

{% block content %}

    <div class="row">

        {% if user.image_url %}
            <div class="col-sm-2 col-6">
              <img src="{{ user.image_url }}"
                   alt="{{ user.first_name }}"
                   class="img-fluid">
            </div>
        {% endif %}

        <h1>User Detail Page</h1> 
        <h2>{{ user.first_name }} {{ user.last_name }}</h2>
        <form>
            <button class="btn btn-primary btn-sm"
                    formaction="/users/{{ user.user_id }}/edit"
                    formmethod="GET">Edit
            </button>
            <button class="btn btn-danger btn-sm"
                    formaction="/users/{{ user.user_id }}/delete"
                    formmethod="POST">Delete
            </button>
        </form> 
    </div>

    <br>
    <h2>User Posts</h2>
    {% for post in user.posts %}
        <li>
            <a href="/posts/{{ post.post_id }}">{{ post.title }} on {{ post.friendly_date }}</a>
        </li>
    {% endfor %}

    <p><a href="/users/{{ user.user_id }}/posts/new" class="btn btn-primary">Add Post</a></p>

{% endblock %}